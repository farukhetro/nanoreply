[{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\api\\callback\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\api\\gbp-connect\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\api\\locations\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\auth\\callback\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\dashboard\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\dashboard\\payment\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\dashboard\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\dashboard\\upgrade\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: This value cannot be modified\n\nModifying a variable defined outside a component or hook is not allowed. Consider using an effect.\n\nC:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\dashboard\\upgrade\\page.tsx:18:17\n  16 |             if (typeof window !== 'undefined') {\n  17 |                 // eslint-disable-next-line react-hooks/immutability\n> 18 |                 window.location.href = \"mailto:sales@nanoreply.com\";\n     |                 ^^^^^^^^^^^^^^^ value cannot be modified\n  19 |             }\n  20 |             return;\n  21 |         }","line":18,"column":17,"nodeType":null,"endLine":18,"endColumn":32,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\icon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\legal\\dpa\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\legal\\privacy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\legal\\terms\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardTitle' is defined but never used.","line":4,"column":58,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":67,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CardTitle"},"fix":{"range":[122,133],"text":""},"desc":"Remove unused variable \"CardTitle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":14,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { ArrowRight } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useToast } from \"@/components/providers/toast-provider\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Logo } from \"@/components/ui/logo\";\r\n\r\nexport default function LoginPage() {\r\n    const { toast } = useToast();\r\n    const router = useRouter();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleGoogleLogin = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const { createClient } = await import('@/lib/supabase/client');\r\n            const supabase = createClient();\r\n\r\n            const { error } = await supabase.auth.signInWithOAuth({\r\n                provider: 'google',\r\n                options: {\r\n                    redirectTo: `${location.origin}/auth/callback`,\r\n                },\r\n            });\r\n\r\n            if (error) {\r\n                console.error(error);\r\n                toast(\"Failed to sign in with Google\", \"error\");\r\n                setIsLoading(false);\r\n            }\r\n            // User will be redirected, no need to set loading false or router push here immediately\r\n        } catch (err) {\r\n            console.error(err);\r\n            toast(\"An error occurred\", \"error\");\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-slate-50 p-4\">\r\n            <div className=\"w-full max-w-md relative z-10\">\r\n                <div className=\"text-center mb-8\">\r\n                    <Link href=\"/\" className=\"inline-flex items-center gap-2 mb-4 group\">\r\n                        <Logo className=\"h-10 w-10\" />\r\n                    </Link>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 tracking-tight\">Welcome Back</h1>\r\n                    <p className=\"text-muted-foreground mt-2 text-lg\">\r\n                        Continue with Google to access your account\r\n                    </p>\r\n                </div>\r\n\r\n                <Card className=\"border shadow-xl bg-white overflow-hidden\">\r\n                    <div className=\"h-1 bg-gradient-to-r from-primary via-violet-500 to-blue-500\" />\r\n                    <CardHeader className=\"space-y-4 pb-6 pt-8 text-center\">\r\n                        <CardDescription className=\"text-base\">\r\n                            Secure authentication powered by Google\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6 pb-8\">\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            className=\"w-full h-14 text-base font-medium border-gray-200 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-300 flex items-center justify-center gap-3 relative transition-all duration-300 group shadow-sm hover:shadow-md\"\r\n                            onClick={handleGoogleLogin}\r\n                            disabled={isLoading}\r\n                        >\r\n                            {isLoading ? (\r\n                                <div className=\"h-5 w-5 border-2 border-gray-300 border-t-primary rounded-full animate-spin\" />\r\n                            ) : (\r\n                                <>\r\n                                    <svg className=\"h-5 w-5 transition-transform group-hover:scale-110\" viewBox=\"0 0 24 24\">\r\n                                        <path\r\n                                            d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n                                            fill=\"#4285F4\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n                                            fill=\"#34A853\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n                                            fill=\"#FBBC05\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n                                            fill=\"#EA4335\"\r\n                                        />\r\n                                    </svg>\r\n                                    <span>Continue with Google</span>\r\n                                    <ArrowRight className=\"h-4 w-4 ml-auto opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all text-gray-400\" />\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n\r\n                        <div className=\"relative py-2\">\r\n                            <div className=\"absolute inset-0 flex items-center\">\r\n                                <span className=\"w-full border-t border-gray-100\" />\r\n                            </div>\r\n                            <div className=\"relative flex justify-center text-[10px] font-semibold tracking-wider text-muted-foreground uppercase\">\r\n                                <span className=\"bg-white px-3\">Secure Enterprise Access</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <p className=\"text-center text-xs text-muted-foreground/80 leading-relaxed max-w-[280px] mx-auto\">\r\n                            By clicking continue, you agree to our{\" \"}\r\n                            <Link href=\"/terms\" className=\"underline underline-offset-2 hover:text-primary transition-colors\">Terms of Service</Link>\r\n                            {\" \"}and{\" \"}\r\n                            <Link href=\"/privacy\" className=\"underline underline-offset-2 hover:text-primary transition-colors\">Privacy Policy</Link>.\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\app\\register\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CardTitle' is defined but never used.","line":4,"column":58,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":67,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CardTitle"},"fix":{"range":[122,133],"text":""},"desc":"Remove unused variable \"CardTitle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":14,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { ArrowRight, ShieldCheck } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useToast } from \"@/components/providers/toast-provider\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Logo } from \"@/components/ui/logo\";\r\n\r\nexport default function RegisterPage() {\r\n    const { toast } = useToast();\r\n    const router = useRouter();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleGoogleRegister = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            // Dynamic import to avoid SSR issues if any, though standard import is fine too but client.ts is safe.\r\n            const { createClient } = await import('@/lib/supabase/client');\r\n            const supabase = createClient();\r\n\r\n            const { error } = await supabase.auth.signInWithOAuth({\r\n                provider: 'google',\r\n                options: {\r\n                    redirectTo: `${location.origin}/auth/callback`,\r\n                    queryParams: {\r\n                        access_type: 'offline',\r\n                        prompt: 'consent',\r\n                    },\r\n                },\r\n            });\r\n\r\n            if (error) {\r\n                console.error(error);\r\n                toast(\"Failed to register with Google\", \"error\");\r\n                setIsLoading(false);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n            toast(\"An error occurred\", \"error\");\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-slate-50 p-4\">\r\n            <div className=\"w-full max-w-md relative z-10\">\r\n                <div className=\"text-center mb-8\">\r\n                    <Link href=\"/\" className=\"inline-flex items-center gap-2 mb-4 group\">\r\n                        <Logo className=\"h-10 w-10\" />\r\n                    </Link>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900 tracking-tight\">Create an Account</h1>\r\n                    <p className=\"text-muted-foreground mt-2 text-lg\">\r\n                        Continue with Google to access your account\r\n                    </p>\r\n                </div>\r\n\r\n                <Card className=\"border shadow-xl bg-white overflow-hidden\">\r\n                    <div className=\"h-1 bg-gradient-to-r from-violet-500 via-primary to-blue-500\" />\r\n                    <CardHeader className=\"space-y-4 pb-6 pt-8 text-center\">\r\n                        <div className=\"mx-auto bg-green-50 w-fit px-3 py-1 rounded-full border border-green-100 flex items-center gap-1.5 mb-2\">\r\n                            <ShieldCheck className=\"h-3 w-3 text-green-600\" />\r\n                            <span className=\"text-xs font-medium text-green-700\">No Credit Card Required</span>\r\n                        </div>\r\n                        <CardDescription className=\"text-base\">\r\n                            Secure authentication powered by Google\r\n                        </CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6 pb-8\">\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            className=\"w-full h-14 text-base font-medium border-gray-200 hover:bg-gray-50 hover:text-gray-900 hover:border-gray-300 flex items-center justify-center gap-3 relative transition-all duration-300 group shadow-sm hover:shadow-md\"\r\n                            onClick={handleGoogleRegister}\r\n                            disabled={isLoading}\r\n                        >\r\n                            {isLoading ? (\r\n                                <div className=\"h-5 w-5 border-2 border-gray-300 border-t-primary rounded-full animate-spin\" />\r\n                            ) : (\r\n                                <>\r\n                                    <svg className=\"h-5 w-5 transition-transform group-hover:scale-110\" viewBox=\"0 0 24 24\">\r\n                                        <path\r\n                                            d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n                                            fill=\"#4285F4\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n                                            fill=\"#34A853\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n                                            fill=\"#FBBC05\"\r\n                                        />\r\n                                        <path\r\n                                            d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n                                            fill=\"#EA4335\"\r\n                                        />\r\n                                    </svg>\r\n                                    <span>Continue with Google</span>\r\n                                    <ArrowRight className=\"h-4 w-4 ml-auto opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all text-gray-400\" />\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n\r\n                        <div className=\"relative py-2\">\r\n                            <div className=\"absolute inset-0 flex items-center\">\r\n                                <span className=\"w-full border-t border-gray-100\" />\r\n                            </div>\r\n                            <div className=\"relative flex justify-center text-[10px] font-semibold tracking-wider text-muted-foreground uppercase\">\r\n                                <span className=\"bg-white px-3\">Start Automating Today</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <p className=\"text-center text-xs text-muted-foreground/80 leading-relaxed max-w-[280px] mx-auto\">\r\n                            By clicking continue, you agree to our{\" \"}\r\n                            <Link href=\"/terms\" className=\"underline underline-offset-2 hover:text-primary transition-colors\">Terms of Service</Link>\r\n                            {\" \"}and{\" \"}\r\n                            <Link href=\"/privacy\" className=\"underline underline-offset-2 hover:text-primary transition-colors\">Privacy Policy</Link>.\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\GbpConnect.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`checkConnection` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\GbpConnect.tsx:27:9\n  25 |\n  26 |     useEffect(() => {\n> 27 |         checkConnection();\n     |         ^^^^^^^^^^^^^^^ `checkConnection` accessed before it is declared\n  28 |\n  29 |         // Listen for message from popup\n  30 |         const handleMessage = (event: MessageEvent) => {\n\nC:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\GbpConnect.tsx:48:5\n  46 |     }, []);\n  47 |\n> 48 |     const checkConnection = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 49 |         try {\n     | ^^^^^^^^^^^^^\n> 50 |             const { data: { session } } = await supabase.auth.getSession();\n     â€¦\n     | ^^^^^^^^^^^^^\n> 81 |         }\n     | ^^^^^^^^^^^^^\n> 82 |     };\n     | ^^^^^^^ `checkConnection` is declared here\n  83 |\n  84 |     const handleConnect = async () => {\n  85 |         try {","line":27,"column":9,"nodeType":null,"endLine":27,"endColumn":24},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":139,"column":88,"nodeType":"JSXOpeningElement","endLine":139,"endColumn":215}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { Store, MapPin, Loader2, CheckCircle2, AlertCircle } from \"lucide-react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\ninterface Location {\r\n    name: string; // resource name\r\n    title: string;\r\n    storeCode?: string;\r\n    metadata?: {\r\n        placeId?: string;\r\n        mapsUri?: string;\r\n    };\r\n}\r\n\r\nexport default function GbpConnect() {\r\n    const [loading, setLoading] = useState(false);\r\n    const [locations, setLocations] = useState<Location[]>([]);\r\n    const [isConnected, setIsConnected] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const pollInterval = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    useEffect(() => {\r\n        checkConnection();\r\n\r\n        // Listen for message from popup\r\n        const handleMessage = (event: MessageEvent) => {\r\n            if (event.origin !== window.location.origin) return;\r\n            if (event.data === \"gbp-connected\") {\r\n                checkConnection();\r\n            }\r\n        };\r\n\r\n        window.addEventListener(\"message\", handleMessage);\r\n        return () => window.removeEventListener(\"message\", handleMessage);\r\n    }, []);\r\n\r\n    // Cleanup polling on unmount\r\n    useEffect(() => {\r\n        return () => {\r\n            if (pollInterval.current) clearInterval(pollInterval.current);\r\n        }\r\n    }, []);\r\n\r\n    const checkConnection = async () => {\r\n        try {\r\n            const { data: { session } } = await supabase.auth.getSession();\r\n\r\n            if (!session) return;\r\n\r\n            const response = await fetch(\"/api/locations\", {\r\n                headers: {\r\n                    Authorization: `Bearer ${session.access_token}`,\r\n                },\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                if (data.locations) {\r\n                    setLocations(data.locations);\r\n                    setIsConnected(true);\r\n                    // Stop polling if we found locations/connection\r\n                    if (pollInterval.current) {\r\n                        clearInterval(pollInterval.current);\r\n                        pollInterval.current = null;\r\n                    }\r\n                    setLoading(false); // Ensure loading is off\r\n                }\r\n            } else {\r\n                const data = await response.json();\r\n                if (data.error && data.error.includes(\"No tokens found\")) {\r\n                    setIsConnected(false);\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(\"Error checking connection:\", error);\r\n        }\r\n    };\r\n\r\n    const handleConnect = async () => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null);\r\n            const response = await fetch(\"/api/gbp-connect\");\r\n            const data = await response.json();\r\n\r\n            if (data.url) {\r\n                const width = 500;\r\n                const height = 600;\r\n                const left = window.screen.width / 2 - width / 2;\r\n                const top = window.screen.height / 2 - height / 2;\r\n\r\n                window.open(\r\n                    data.url,\r\n                    \"Google Connect\",\r\n                    `width=${width},height=${height},top=${top},left=${left}`\r\n                );\r\n\r\n                // Start polling for results\r\n                if (pollInterval.current) clearInterval(pollInterval.current);\r\n                pollInterval.current = setInterval(checkConnection, 3000);\r\n\r\n            } else {\r\n                setError(\"Failed to get authorization URL\");\r\n                setLoading(false);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error initiating connection:\", error);\r\n            setError(\"Failed to initiate connection\");\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                    <Store className=\"h-5 w-5 text-primary\" />\r\n                    Google Business Profile\r\n                </CardTitle>\r\n                <CardDescription>\r\n                    Connect your Google Business Profile to automate posts and replies.\r\n                </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n                {error && (\r\n                    <div className=\"mb-4 p-3 bg-destructive/10 text-destructive rounded-md flex items-center gap-2 text-sm\">\r\n                        <AlertCircle className=\"h-4 w-4\" />\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                {!isConnected ? (\r\n                    <Button onClick={handleConnect} disabled={loading} className=\"w-full sm:w-auto\">\r\n                        {loading ? <Loader2 className=\"h-4 w-4 animate-spin mr-2\" /> : <img src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"Google\" className=\"h-4 w-4 mr-2\" />}\r\n                        {loading ? \"Connecting...\" : \"Connect Google Account\"}\r\n                    </Button>\r\n                ) : (\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"flex items-center gap-2 text-green-600 bg-green-50 p-2 rounded-md\">\r\n                            <CheckCircle2 className=\"h-5 w-5\" />\r\n                            <span className=\"font-medium\">Connected</span>\r\n                        </div>\r\n\r\n                        {locations.length > 0 ? (\r\n                            <div className=\"grid gap-2\">\r\n                                {locations.map((loc, idx) => (\r\n                                    <div key={idx} className=\"flex items-center justify-between p-3 border rounded-lg bg-card\">\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                                            <div>\r\n                                                <p className=\"font-medium text-sm\">{loc.title}</p>\r\n                                                <p className=\"text-xs text-muted-foreground\">{loc.storeCode || \"No store code\"}</p>\r\n                                                {loc.metadata?.mapsUri && (\r\n                                                    <a href={loc.metadata.mapsUri} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-xs text-primary hover:underline\">\r\n                                                        View on Maps\r\n                                                    </a>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                        <Button variant=\"outline\" size=\"sm\">Manage</Button>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"p-4 border rounded-md text-center bg-muted/20\">\r\n                                <p className=\"text-sm text-muted-foreground\">No locations found for this account.</p>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"pt-2\">\r\n                            <Button variant=\"ghost\" size=\"sm\" onClick={handleConnect} className=\"text-muted-foreground hover:text-foreground\">\r\n                                Reconnect Account\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\providers\\theme-provider.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\providers\\theme-provider.tsx:37:13\n  35 |         const savedTheme = localStorage.getItem(storageKey) as Theme;\n  36 |         if (savedTheme) {\n> 37 |             setTheme(savedTheme);\n     |             ^^^^^^^^ Avoid calling setState() directly within an effect\n  38 |         }\n  39 |     }, [storageKey]);\n  40 |","line":37,"column":13,"nodeType":null,"endLine":37,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { Moon, Sun, Laptop } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ntype Theme = \"dark\" | \"light\" | \"system\";\r\n\r\ntype ThemeProviderProps = {\r\n    children: React.ReactNode;\r\n    defaultTheme?: Theme;\r\n    storageKey?: string;\r\n};\r\n\r\ntype ThemeProviderState = {\r\n    theme: Theme;\r\n    setTheme: (theme: Theme) => void;\r\n};\r\n\r\nconst initialState: ThemeProviderState = {\r\n    theme: \"system\",\r\n    setTheme: () => null,\r\n};\r\n\r\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState);\r\n\r\nexport function ThemeProvider({\r\n    children,\r\n    defaultTheme = \"system\",\r\n    storageKey = \"nanoreply-ui-theme\",\r\n}: ThemeProviderProps) {\r\n    const [theme, setTheme] = useState<Theme>(defaultTheme);\r\n\r\n    useEffect(() => {\r\n        const savedTheme = localStorage.getItem(storageKey) as Theme;\r\n        if (savedTheme) {\r\n            setTheme(savedTheme);\r\n        }\r\n    }, [storageKey]);\r\n\r\n    useEffect(() => {\r\n        const root = window.document.documentElement;\r\n\r\n        root.classList.remove(\"light\", \"dark\");\r\n\r\n        if (theme === \"system\") {\r\n            const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\")\r\n                .matches\r\n                ? \"dark\"\r\n                : \"light\";\r\n\r\n            root.classList.add(systemTheme);\r\n            return;\r\n        }\r\n\r\n        root.classList.add(theme);\r\n    }, [theme]);\r\n\r\n    const value = {\r\n        theme,\r\n        setTheme: (theme: Theme) => {\r\n            localStorage.setItem(storageKey, theme);\r\n            setTheme(theme);\r\n        },\r\n    };\r\n\r\n    return (\r\n        <ThemeProviderContext.Provider value={value}>\r\n            {children}\r\n        </ThemeProviderContext.Provider>\r\n    );\r\n}\r\n\r\nexport const useTheme = () => {\r\n    const context = useContext(ThemeProviderContext);\r\n\r\n    if (context === undefined)\r\n        throw new Error(\"useTheme must be used within a ThemeProvider\");\r\n\r\n    return context;\r\n};\r\n\r\nexport function ThemeToggle() {\r\n    const { setTheme, theme } = useTheme();\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-1 border rounded-full p-1 bg-background/50 backdrop-blur-sm\">\r\n            <Button\r\n                variant={theme === \"light\" ? \"secondary\" : \"ghost\"}\r\n                size=\"icon\"\r\n                className=\"h-8 w-8 rounded-full\"\r\n                onClick={() => setTheme(\"light\")}\r\n                title=\"Light Mode\"\r\n            >\r\n                <Sun className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n                variant={theme === \"system\" ? \"secondary\" : \"ghost\"}\r\n                size=\"icon\"\r\n                className=\"h-8 w-8 rounded-full\"\r\n                onClick={() => setTheme(\"system\")}\r\n                title=\"System\"\r\n            >\r\n                <Laptop className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n                variant={theme === \"dark\" ? \"secondary\" : \"ghost\"}\r\n                size=\"icon\"\r\n                className=\"h-8 w-8 rounded-full\"\r\n                onClick={() => setTheme(\"dark\")}\r\n                title=\"Dark Mode\"\r\n            >\r\n                <Moon className=\"h-4 w-4\" />\r\n            </Button>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\providers\\toast-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\ui\\fade-in.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\ui\\input.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":4,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":4,"endColumn":28,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[77,153],"text":"type InputProps = React.InputHTMLAttributes<HTMLInputElement>"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> { }\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    ({ className, type, ...props }, ref) => {\r\n        return (\r\n            <input\r\n                type={type}\r\n                className={cn(\r\n                    \"flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        );\r\n    }\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\ui\\logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\lib\\countries.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\lib\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\lib\\supabase\\middleware.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'options' is defined but never used.","line":18,"column":58,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":65}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { type NextRequest, NextResponse } from \"next/server\";\r\nimport { createServerClient } from \"@supabase/ssr\";\r\n\r\nexport async function updateSession(request: NextRequest) {\r\n    let supabaseResponse = NextResponse.next({\r\n        request,\r\n    });\r\n\r\n    const supabase = createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return request.cookies.getAll();\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    cookiesToSet.forEach(({ name, value, options }) =>\r\n                        request.cookies.set(name, value)\r\n                    );\r\n                    supabaseResponse = NextResponse.next({\r\n                        request,\r\n                    });\r\n                    cookiesToSet.forEach(({ name, value, options }) =>\r\n                        supabaseResponse.cookies.set(name, value, options)\r\n                    );\r\n                },\r\n            },\r\n        }\r\n    );\r\n\r\n    const {\r\n        data: { user },\r\n    } = await supabase.auth.getUser();\r\n\r\n    if (\r\n        !user &&\r\n        !request.nextUrl.pathname.startsWith(\"/login\") &&\r\n        !request.nextUrl.pathname.startsWith(\"/register\") &&\r\n        !request.nextUrl.pathname.startsWith(\"/auth\") &&\r\n        request.nextUrl.pathname !== \"/\"\r\n    ) {\r\n        // Check if it's a dashboard route or protected route\r\n        if (request.nextUrl.pathname.startsWith(\"/dashboard\")) {\r\n            const url = request.nextUrl.clone();\r\n            url.pathname = \"/login\";\r\n            return NextResponse.redirect(url);\r\n        }\r\n    }\r\n\r\n    // If user is logged in, redirect away from login/register\r\n    if (user) {\r\n        if (request.nextUrl.pathname.startsWith('/login') || request.nextUrl.pathname.startsWith('/register')) {\r\n            const url = request.nextUrl.clone();\r\n            url.pathname = \"/dashboard\";\r\n            return NextResponse.redirect(url);\r\n        }\r\n    }\r\n\r\n    return supabaseResponse;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\lib\\supabase\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\OneDrive\\Documents\\TESTING\\GOOGLE BUSINESS\\nanoreply-frontend\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]